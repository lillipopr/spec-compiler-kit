---
description: 调用限界上下文设计Skill，根据 PRD 生成限界上下文设计文档。支持两阶段工作流：先生成大纲版讨论优化，定稿后生成详细版。
calls-skill: spec-compiler:ddd-01-bounded-context-skill
---

# /ddd-01-bc - 限界上下文设计命令

此命令调用 **ddd-01-bounded-context-skill** Skill，从 PRD 生成限界上下文设计文档。

## 使用场景

- 已有 PRD 文档，需要生成限界上下文设计
- 需要进行业务能力分析
- 需要划分限界上下文
- 需要设计上下文映射关系

## 执行说明

当用户执行此命令时：

1. **收集参数**：提示用户输入：
   - **PRD 文档路径**：PRD 文件的完整路径
   - **输出目录**：设计文档的输出目录（可选，默认为 `./output`）

2. **加载 Skill**：系统自动加载 `spec-compiler:ddd-01-bounded-context-skill` Skill

3. **执行工作流**：Skill 包含完整的执行逻辑，包括：
   - **阶段 1**：PRD 分析与大纲生成
   - **阶段 2**：讨论与优化（用户可编辑大纲文件）
   - **阶段 3**：详细文档生成

## 工作流程

```
┌─────────────────────────────────────────────────────────────┐
│ 阶段 1：PRD 分析与大纲生成                                    │
├─────────────────────────────────────────────────────────────┤
│ 1.1 读取 PRD 文档                                             │
│ 1.2 提取关键信息                                              │
│ 1.3 生成大纲文件（ddd-01-bc-outline.md）       │
│ 1.4 显示大纲内容，提示用户编辑讨论                             │
└─────────────────────────────────────────────────────────────┘
                              ↓
┌─────────────────────────────────────────────────────────────┐
│ 阶段 2：讨论与优化                                            │
├─────────────────────────────────────────────────────────────┤
│ 2.1 等待用户编辑大纲文件                                      │
│ 2.2 用户编辑完成后输入 "继续"                                 │
│ 2.3 基于编辑后的大纲生成详细文档                              │
└─────────────────────────────────────────────────────────────┘
                              ↓
┌─────────────────────────────────────────────────────────────┐
│ 阶段 3：详细文档生成                                          │
├─────────────────────────────────────────────────────────────┤
│ 3.1 基于定稿大纲生成详细文档                                   │
│ 3.2 输出文件：ddd-01-bc.md                      │
└─────────────────────────────────────────────────────────────┘
```

## 输出文件

| 文件                          | 说明 |
|-----------------------------|------|
| `ddd-01-bc-outline.md`      | 大纲版（可编辑讨论） |
| `ddd-01-bounded-context.md` | 详细版（定稿后生成） |

## 核心特性

- **两阶段工作流**：先生成大纲快速评审，定稿后生成详细文档
- **可编辑讨论**：大纲文件可编辑，支持迭代优化
- **质量可控**：通过人工评审确保上下文划分、领域类型的准确性

## 示例

```
用户: /ddd-01-bc

Claude: 请提供 PRD 文档路径：

用户: ./docs/prd/user-wallet-prd.md

Claude: 请提供输出目录（直接回车使用默认 ./output）：

用户: ./docs/08-functions/03-user-wallet/output

==================================================
限界上下文设计大纲已生成
==================================================
文件：./docs/08-functions/03-user-wallet/output/ddd-01-bc-outline.md

【下一步】
1. 请编辑大纲文件，调整上下文划分、领域类型等
2. 编辑完成后，输入 "继续" 生成详细文档
3. 或输入 "修改 {具体意见}" 进行调整
==================================================

[用户编辑大纲文件...]

用户: 继续

==================================================
限界上下文设计文档生成完成
==================================================
大纲：ddd-01-bc-outline.md
详细：ddd-01-bounded-context.md

【检查清单】
- [ ] 业务能力是否完整？
- [ ] 上下文边界是否清晰？
- [ ] 领域类型划分是否合理？
- [ ] 集成模式选择是否合适？
==================================================

```

## 技术说明

**Command 类型**：直接调用 Skill（非 Agent）

**Skill 路径**：`{CLAUDE_PLUGIN_ROOT}/skills/ddd-01-bounded-context/SKILL.md`

**优势**：
- 更轻量：无需启动独立 Agent 进程
- 更快速：直接在当前会话中执行
- 更可控：Skill 包含完整流程指引，便于调试和优化
