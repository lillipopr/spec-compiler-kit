---
description: 用户故事模式 - 功能型、优化型、缺陷型故事
---

# 用户故事模式

## 概述
用户故事模式是常见用户故事的总结，帮助快速编写高质量的用户故事。

## 模式分类

```
功能型 → 优化型 → 缺陷型 → 限制型
```

## 1. 功能型故事

### 1.1 模式说明

新增功能，满足用户新需求

### 1.2 标准模板

```gherkin
作为 [用户角色]
我想要 [新功能]
以便 [获得新价值]
```

### 1.3 常见模式

#### 新增核心功能

```gherkin
作为 会员用户
我想要 每天自动获得100点券
以便 我可以使用点券兑换商品
```

**特点**：
- 核心功能，高价值
- 用户感知明显
- 可量化效果

#### 新增辅助功能

```gherkin
作为 用户
我想要 收到订单状态变更通知
以便 我及时了解订单进度
```

**特点**：
- 辅助主功能
- 提升体验
- 非必需但有价值

#### 新增管理功能

```gherkin
作为 管理员
我想要 批量审核用户提交的内容
以便 提升50%的审核效率
```

**特点**：
- 管理后台功能
- 效率提升
- B端用户

### 1.4 验收标准模式

```gherkin
## AC-1: 正常场景
Given [前置条件]
When [触发操作]
Then [功能正常工作]

## AC-2: 边界场景
Given [边界条件]
When [触发操作]
Then [正确处理边界]

## AC-3: 异常场景
Given [异常条件]
When [触发操作]
Then [优雅处理异常]
```

## 2. 优化型故事

### 2.1 模式说明

优化现有功能，提升体验或效率

### 2.2 标准模板

```gherkin
作为 [用户角色]
我想要 [优化描述]
以便 [提升XX%的XX指标]
```

### 2.3 常见模式

#### 流程优化

```gherkin
作为 用户
我想要 将注册流程从3步减少到2步
以便 提升20%的注册成功率
```

**特点**：
- 有明确的现状
- 有明确的优化目标
- 可量化效果

#### 性能优化

```gherkin
作为 用户
我想要的页面加载时间从5秒降到2秒以内
以便 减少用户流失
```

**特点**：
- 有性能基线
- 有优化目标
- 关联业务指标

#### 体验优化

```gherkin
作为 用户
我想要 在搜索时看到搜索历史
以便 快速重复之前的搜索
```

**特点**：
- 提升便利性
- 节省用户时间
- 体验更友好

### 2.4 验收标准模式

```gherkin
## AC-1: 优化前基线
Given [优化前条件]
When [执行操作]
Then [当前结果是XXX]

## AC-2: 优化后目标
Given [优化后条件]
When [执行操作]
Then [结果达到目标]

## AC-3: 不退化
Given [优化后条件]
When [其他场景]
Then [原有功能正常]
```

## 3. 缺陷型故事

### 3.1 模式说明

修复Bug，解决已有问题

### 3.2 标准模板

```gherkin
作为 [用户角色]
我想要 [正确的行为]
以便 [避免问题XXX]
```

### 3.3 常见模式

#### 功能缺陷

```gherkin
作为 用户
我想要 支付失败时看到明确的错误原因
以便 我知道如何修正支付信息
```

**特点**：
- 当前行为是错误的
- 需要修正为正确行为
- 影响用户体验

#### 性能缺陷

```gherkin
作为 用户
我想要的列表滚动时不会卡顿
以便 流畅浏览内容
```

**特点**：
- 性能问题
- 影响体验
- 需要技术优化

#### 兼容性缺陷

```gherkin
作为 用户
我想要 在iOS 13上也能正常使用
以便 不影响我使用
```

**特点**：
- 兼容性问题
- 影响部分用户
- 需要适配

### 3.4 验收标准模式

```gherkin
## AC-1: 修复正常场景
Given [Bug触发条件]
When [执行操作]
Then [不再出现Bug]

## AC-2: 不引入新问题
Given [其他场景]
When [执行操作]
Then [原有功能正常]

## AC-3: 回归测试
Given [相关功能]
When [执行操作]
Then [相关功能正常]
```

## 4. 限制型故事

### 4.1 模式说明

添加限制或规则，规范使用行为

### 4.2 标准模板

```gherkin
作为 [系统/平台]
我想要 [限制规则]
以便 [防止滥用/保护用户]
```

### 4.3 常见模式

#### 频率限制

```gherbin
作为 平台
我想要 限制用户每分钟最多发送10条消息
以便 防止恶意刷屏
```

**特点**：
- 防止滥用
- 保护平台资源
- 影响正常用户

#### 内容限制

```gherkin
作为 平台
我想要 限制用户昵称长度不超过20个字符
以便 保证显示效果
```

**特点**：
- 技术限制
- 体验考虑
- 需要说明

#### 权限限制

```gherkin
作为 平台
我想要 未登录用户只能浏览内容，不能发布
以便 鼓励用户注册
```

**特点**：
- 权限控制
- 商业考虑
- 引导转化

### 4.4 验收标准模式

```gherkin
## AC-1: 正常限制
Given [达到限制条件]
When [继续操作]
Then [触发限制]

## AC-2: 限制提示
Given [触发限制]
When [用户操作]
Then [看到清晰的限制说明]

## AC-3: 未限制正常
Given [未达到限制]
When [执行操作]
Then [功能正常]
```

## 5. 组合模式

### 5.1 功能+优化

```gherkin
作为 用户
我想要 使用新的搜索功能
以便 更快找到我想要的内容

同时：
- 搜索结果相关性提升30%
- 搜索速度从3秒降到1秒
```

### 5.2 功能+限制

```gherkin
作为 用户
我想要 上传头像
以便 个性化我的账户

同时：
- 头像大小不超过2MB
- 支持JPG/PNG格式
- 自动裁剪为正方形
```

## 6. 编写技巧

### 6.1 命名技巧

```
❌ 会员功能
✅ 会员每日点券发放

❌ 优化搜索
✅ 搜索结果相关性提升30%

❌ 修复Bug
✅ 修复支付失败无提示问题
```

### 6.2 描述技巧

```
❌ 我想要一个搜索功能
✅ 我想要搜索商品，以便快速找到想要的商品

❌ 优化体验
✅ 将注册流程从3步减少到2步

❌ 修复Bug
✅ 支付失败时显示明确的错误原因
```

### 6.3 验收标准技巧

```
❌ 应该很快
✅ 3秒内返回结果

❌ 正常工作
✅ 返回相关的搜索结果

❌ 用户友好
✅ 显示清晰的错误提示和解决建议
```

## 7. 常见错误

### 7.1 角色错误

```
❌ 作为用户
❌ 作为客户端
❌ 作为系统

✅ 作为会员用户
✅ 作为移动端用户
✅ 作为管理员
```

### 7.2 价值错误

```
❌ 以便提升体验
❌ 以便优化性能
❌ 因为竞品有

✅ 以便快速完成任务
✅ 以便减少等待时间
✅ 以便解决XXX问题
```

### 7.3 操作错误

```
❌ 我想要一个接口
❌ 我想要优化体验
❌ 我想要更好的UI

✅ 我想要搜索商品
✅ 我想要减少注册步骤
✅ 我想要更简洁的界面
```

## 8. 模式选择指南

| 场景 | 推荐模式 |
|-----|---------|
| 新增功能 | 功能型 |
| 提升体验/性能 | 优化型 |
| 修复Bug | 缺陷型 |
| 添加规则/限制 | 限制型 |
| 复杂功能 | 组合模式 |
